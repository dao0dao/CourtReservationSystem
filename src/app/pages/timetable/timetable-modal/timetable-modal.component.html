<div class="background">
    <div class="container">
        <p
            *ngIf="modalAction === 'edit'"
            class="title"
        >
            Opcje rezerwacji
        </p>
        <p
            *ngIf="modalAction === 'new'"
            class="title"
        >
            Dodaj rezerwację
        </p>
        <button
            type="button"
            class="btnX"
            (click)="closeModal()"
        >
            <svg>
                <use [attr.xlink:href]="environment.svg +'#icon-close'"></use>
            </svg>
        </button>
        <form
            class="container_body"
            [formGroup]="form"
            (ngSubmit)="submitForm()"
        >
            <p
                *ngIf="modalAction === 'edit'"
                class="subtitle"
            >
                Data: 13.03.22, 14:00-17:00
            </p>
            <div class="block">
                <div class="block_name">
                    <p class="text">Data</p>
                    <div class="line"></div>
                </div>
                <input
                    class="input input--date"
                    type="date"
                    formControlName="date"
                >
                <div class="time">
                    <label for="from">Od</label>
                    <input
                        class="input"
                        type="time"
                        id="from"
                        formControlName="from"
                    >
                    <label for="to">Do</label>
                    <input
                        class="input"
                        type="time"
                        id="to"
                        formControlName="to"
                    >
                </div>
            </div>
            <div class="block">
                <div class="block_name">
                    <p class="text">Gracz 1</p>
                    <div class="line"></div>
                </div>
                <div class="radio">
                    <input
                        type="radio"
                        name="listOne"
                        id="list"
                        value="true"
                        formControlName="listOne"
                        (change)="handleChoseOne()"
                    >
                    <label for="list">Wybierz z listy:</label>
                </div>
                <select
                    class="select"
                    formControlName="playerOne"
                    (change)="handleIsPlayerChosen()"
                    [attr.disabled]="isListOne ? null : true"
                >
                    <option value></option>
                    <option
                        *ngFor="let player of playerOne"
                        [value]="player.id"
                    >
                        {{player.name}} {{player.surname}}
                    </option>
                </select>
                <div class="radio">
                    <input
                        type="radio"
                        name="listOne"
                        id="input"
                        value="false"
                        formControlName="listOne"
                        (change)="handleChoseOne()"
                    >
                    <label for="input">lub wprowadź spoza bazy:</label>
                </div>
                <input
                    class="input"
                    type="text"
                    id="input"
                    placeholder="Imię i nazwisko"
                    [attr.disabled]="isListOne ? true : null"
                    formControlName="guestOne"
                    (change)="handleIsPlayerChosen()"
                >
                <p
                    class="info"
                    [ngClass]="{'info--hidden': isListOne}"
                >
                    Uwaga- nie zostanie dodany do bazy!
                </p>
            </div>
            <div class="block">
                <div class="block_name">
                    <p class="text">Gracz 2</p>
                    <div class="line"></div>
                </div>
                <div class="radio">
                    <input
                        type="radio"
                        name="listTwo"
                        id="list-2"
                        formControlName="listTwo"
                        value="true"
                        (change)="handleChoseTwo()"
                    >
                    <label for="list-2">Wybierz z listy:</label>
                </div>
                <select
                    class="select"
                    formControlName="playerTwo"
                    (change)="handleIsPlayerChosen()"
                    [attr.disabled]="isListTwo ? null : true"
                >
                    <option
                        value
                        selected
                    ></option>
                    <option
                        *ngFor="let player of playerTwo"
                        [value]="player.id"
                    >
                        {{player.name}} {{player.surname}}
                    </option>
                </select>
                <div class="radio">
                    <input
                        type="radio"
                        name="listTwo"
                        id="input-2"
                        value="false"
                        formControlName="listTwo"
                        (change)="handleChoseTwo()"
                    >
                    <label for="input-2">lub wprowadź spoza bazy:</label>
                </div>
                <input
                    class="input"
                    type="text"
                    id="input"
                    placeholder="Imię i nazwisko"
                    formControlName="guestTwo"
                    [attr.disabled]="isListTwo ? true : null"
                    (change)="handleIsPlayerChosen()"
                >
                <p
                    class="info"
                    [ngClass]="{'info--hidden': isListTwo}"
                >
                    Uwaga- nie zostanie dodany do bazy!
                </p>
            </div>
            <div class="block block--wider">
                <div class="block_name">
                    <p class="text">Opcje wyszukania</p>
                    <div class="line"></div>
                </div>
                <div class="row">
                    <button
                        type="button"
                        class="btn btn--option btn--option--active"
                    >
                        Znajdź gracza 1
                    </button>
                    <button
                        type="button"
                        class="btn btn--option"
                    >
                        Znajdź gracza 2
                    </button>
                    <button
                        type="button"
                        class="btn btn--option"
                    >
                        Wszyscy przeciwnicy 1
                    </button>
                    <button
                        type="button"
                        class="btn btn--option"
                    >
                        Wszyscy przeciwnicy 2
                    </button>
                    <button
                        type="button"
                        class="btn btn--option"
                    >
                        Przeciwnika dla 1 na godzinę
                    </button>
                    <button
                        type="button"
                        class="btn btn--option"
                    >
                        Przeciwnika dla 2 na godzinę
                    </button>
                </div>
            </div>
            <div class="block">
                <div class="block_name">
                    <p class="text">Kort</p>
                    <div class="line"></div>
                </div>
                <select
                    class="select"
                    formControlName="court"
                >
                    <option
                        value
                        disabled
                        selected
                    >
                        Wybierz...
                    </option>
                    <option value="1">Niebieski</option>
                    <option value="2">Fioletowy</option>
                    <option value="3">Rezerwowy</option>
                </select>
            </div>
            <div class="block block--add">
                <button
                    type="submit"
                    class="btn btn--add"
                    [disabled]="form.invalid || !isPlayerChosen"
                >
                    Zapisz
                </button>
            </div>
        </form>
    </div>
</div>
